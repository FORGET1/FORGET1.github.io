$(document).ready(function(){a();NexT.utils.needAffix()&&d();b();function a(){var h=".post-toc";var g=$(h);var f=".active-current";g.on("activate.bs.scrollspy",function(){var i=$(h+" .active").last();e();i.addClass("active-current")}).on("clear.bs.scrollspy",e);$("body").scrollspy({target:h});function e(){$(h+" "+f).removeClass(f.substring(1))}}function d(){var e=$(".header-inner").height();var f=parseInt($(".main").css("padding-bottom"),10);var g=(CONFIG.sidebar.offset_float===0)?e+CONFIG.sidebar.offset:e;$(".sidebar-inner").affix({offset:{top:g,bottom:f}});$(document).on("affixed.bs.affix",function(){c(document.body.clientHeight-100)})}function b(){var f;$(window).on("resize",function(){f&&clearTimeout(f);f=setTimeout(function(){var g=document.body.clientHeight-100;c(g)},0)});c(document.body.clientHeight-100);var e=NexT.utils.getScrollbarWidth();$(".post-toc").css("width","calc(100% + "+e+"px)")}function c(e){e=e||"auto";$(".post-toc").css("max-height",e)}});$(document).ready(function(){var d=$("html");var c=200;var b=$.isFunction(d.velocity);$(".sidebar-nav li").on("click",function(){var i=$(this);var h="sidebar-nav-active";var g="sidebar-panel-active";if(i.hasClass(h)){return}var k=$("."+g);var j=$("."+i.data("target"));b?k.velocity("transition.slideUpOut",c,function(){j.velocity("stop").velocity("transition.slideDownIn",c).addClass(g)}):k.animate({opacity:0},c,function(){k.hide();j.stop().css({opacity:0,display:"block"}).animate({opacity:1},c,function(){k.removeClass(g);j.addClass(g)})});i.siblings().removeClass(h);i.addClass(h)});$(".post-toc a").on("click",function(h){h.preventDefault();var g=NexT.utils.escapeSelector(this.getAttribute("href"));var i=$(g).offset().top;b?d.velocity("stop").velocity("scroll",{offset:i+"px",mobileHA:false}):$("html, body").stop().animate({scrollTop:i},500)});var a=$(".post-toc-content");var e=CONFIG.sidebar.display==="post"||CONFIG.sidebar.display==="always";var f=a.length>0&&a.html().trim().length>0;if(e&&f){CONFIG.motion?(NexT.motion.middleWares.sidebar=function(){NexT.utils.displaySidebar()}):NexT.utils.displaySidebar()}});